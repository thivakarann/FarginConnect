<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<div class="d-flex justify-content-end mb-1">
    <button class="button1" (click)="close()">Back</button>
</div>
<div class="navtabs">
    <button style="background-color: #fff;border:none" [disabled]="detaislone?.onBoardStatus !='true'" class="navtab"
        data-target="home" (click)="entityTransaction(this.id)"><i
            class="fa-solid fa-building-columns"></i>&nbsp;&nbsp;Transaction
    </button>
    <button style="background-color: #fff;border:none" [disabled]="detaislone?.onBoardStatus !='true'" class="navtab"
        data-target="about" (click)="viewsettlement(this.id)"><i
            class='fas fa-handshake'></i>&nbsp;&nbsp;Settlement</button>
    <button style="background-color: #fff;border:none" [disabled]="detaislone?.onBoardStatus !='true'" class="navtab"
        data-target="contact" (click)="ViewRefund(this.id)"><i
            class='fas fa-hand-holding-usd'></i>&nbsp;&nbsp;Refund</button>
    <button style="background-color: #fff;border:none" [disabled]="detaislone?.onBoardStatus !='true'" class="navtab"
        data-target="page4" (click)="Viewqr(this.id)"><i class="fa-solid fa-qrcode"></i>&nbsp;&nbsp;QR
        Generation</button>
    <button style="background-color: #fff;border:none" [disabled]="detaislone?.onBoardStatus !='true'" class="navtab"
        data-target="page5" (click)="Viewcustomer(this.id)"><i
            class="fa-solid fa-user"></i>&nbsp;&nbsp;Customers</button>
</div>
<div class="tab-container">
    <div class="tabs">
        <button class="tab" [class.active]="activeTab === 'events'" (click)="selectTab('events')">General
            Information</button>
        <button class="tab" [class.active]="activeTab === 'materials'" (click)="selectTab('materials')">Bank
            Information</button>
        <button class="tab" [class.active]="activeTab === 'videos'" (click)="selectTab('videos')">KYC Documents</button>
        <button class="tab" [class.active]="activeTab === 'doot1'" (click)="selectTab('doot1')">Final Approval</button>
        <button class="tab" [class.active]="activeTab === 'doot2'" (click)="selectTab('doot2')">Platform Payment</button>

    </div>
    <div class="tab-content" *ngIf="activeTab === 'events'">
        <div class="filters">
            <div class="col-12">
                <div class="row" style="background-color: #bcdf72;color:#fff;">
                    <div class="col-md-10">
                        <h5 class="p-2 mx-3" style="font-weight: 500;font-size:20px;">Personal
                            Information</h5>
                    </div>
                    <div class="col-md-2 d-flex justify-content-end ">
                        <span class="p-2">
                            <i class="fas fa-edit" style="color: #141E46;font-weight: 500;font-size:20px;"
                                (click)="editpersonalInfo(this.id)"></i>
                        </span>
                        &nbsp;&nbsp;&nbsp;
                        <span class="p-2">
                            <i style="overflow:hidden;color:#141E46;font-size:22px;" [matMenuTriggerFor]="menu"
                                class="fa-solid fa-circle-info">
                                <mat-menu #menu="matMenu">
                                    <button style="font-size: 10px;" mat-menu-item>Onboard Merchant</button>
                                    <button style="font-size: 10px;" mat-menu-item>Update Manual Payment</button>
                                    <button style="font-size: 10px;" mat-menu-item (click)="emailtrigger()">
                                        Email Notification</button>
                                </mat-menu>
                            </i>
                        </span>
                    </div>
                </div>
                <article class=" car-details label-info mt-3">
                    <div class="d-flex flex-md-row align-items-md-start align-items-center flex-column">
                        <div class="w-100">
                            <div class="container-fluid">
                                <div class="row">
                                    <div class="col-md-6 col-12">
                                        <div class="d-flex flex-column">
                                            <div class="d-flex mb-2">
                                                <div class="w-50 font-weight-bold">
                                                    Account ID</div>
                                                <div class="w-50" style="color:green;">
                                                    <span
                                                        *ngIf="detaislone?.accountId!= null">{{detaislone?.accountId}}</span>
                                                    <span *ngIf="detaislone?.accountId== null">-</span>
                                                </div>
                                            </div>
                                            <div class="d-flex mb-2">
                                                <div class="w-50 font-weight-bold">
                                                    Reference Number</div>
                                                <div class="w-50">{{detaislone?.referenceNo}}</div>
                                            </div>
                                            <div class="d-flex mb-2">
                                                <div class="w-50 font-weight-bold">
                                                    Entity Name</div>
                                                <div class="w-50">{{detaislone?.entityName}}</div>
                                            </div>
                                            <div class="d-flex mb-2">
                                                <div class="w-50 font-weight-bold">Merchant Legal Name
                                                </div>
                                                <div class="w-50">{{detaislone?.merchantLegalName}}</div>
                                            </div>
                                            <div class="d-flex mb-2">
                                                <div class="w-50 font-weight-bold">Account DisplayName</div>
                                                <div class="w-50">{{detaislone?.accountDisplayName}}</div>
                                            </div>
                                            <div class="d-flex mb-2">
                                                <div class="w-50 font-weight-bold">Bussiness category</div>
                                                <div class="w-50">
                                                    {{detaislone?.businessCategoryModel?.categoryName}}</div>
                                            </div>
                                            <div class="d-flex mb-2">
                                                <div class="w-50 font-weight-bold">MCC Code</div>
                                                <div class="w-50">{{detaislone?.mccCode}}</div>
                                            </div>
                                            <div class="d-flex mb-2">
                                                <div class="w-50 font-weight-bold">Billing Address</div>
                                                <div class="w-50">{{detaislone?.billingAddress}}</div>
                                            </div>
                                            <div class="d-flex mb-2">
                                                <div class="w-50 font-weight-bold">Area</div>
                                                <div class="w-50">{{detaislone?.area}}</div>
                                            </div>
                                            <div class="d-flex mb-2">
                                                <div class="w-50 font-weight-bold">City</div>
                                                <div class="w-50">{{detaislone?.city}}</div>
                                            </div>
                                            <div class="d-flex mb-2">
                                                <div class="w-50 font-weight-bold">Pincode</div>
                                                <div class="w-50">{{detaislone?.zipcode}}</div>
                                            </div>

                                            <div class="d-flex mb-2">
                                                <div class="w-50 font-weight-bold">
                                                    <span style="color: #78ae76">A</span>pi Key
                                                    <!-- <span style="color: lightgray">(Live Key)</span> -->
                                                </div>
                                                <div class="w-50" *ngIf="detaislone?.apikey !=null">
                                                    <div style="font-size: 10px; display: flex">
                                                        {{ detaislone?.apikey | slice : 0 : 10 }}

                                                        <div class="centralize">

                                                            <button (click)="copyText(detaislone?.apikey)" id="apikey">
                                                                <span><svg viewBox="0 0 467 512.22" clip-rule="evenodd"
                                                                        fill-rule="evenodd"
                                                                        image-rendering="optimizeQuality"
                                                                        text-rendering="geometricPrecision"
                                                                        shape-rendering="geometricPrecision"
                                                                        xmlns="http://www.w3.org/2000/svg" fill="#000"
                                                                        height="12" width="12">
                                                                        <path
                                                                            d="M131.07 372.11c.37 1 .57 2.08.57 3.2 0 1.13-.2 2.21-.57 3.21v75.91c0 10.74 4.41 20.53 11.5 27.62s16.87 11.49 27.62 11.49h239.02c10.75 0 20.53-4.4 27.62-11.49s11.49-16.88 11.49-27.62V152.42c0-10.55-4.21-20.15-11.02-27.18l-.47-.43c-7.09-7.09-16.87-11.5-27.62-11.5H170.19c-10.75 0-20.53 4.41-27.62 11.5s-11.5 16.87-11.5 27.61v219.69zm-18.67 12.54H57.23c-15.82 0-30.1-6.58-40.45-17.11C6.41 356.97 0 342.4 0 326.52V57.79c0-15.86 6.5-30.3 16.97-40.78l.04-.04C27.51 6.49 41.94 0 57.79 0h243.63c15.87 0 30.3 6.51 40.77 16.98l.03.03c10.48 10.48 16.99 24.93 16.99 40.78v36.85h50c15.9 0 30.36 6.5 40.82 16.96l.54.58c10.15 10.44 16.43 24.66 16.43 40.24v302.01c0 15.9-6.5 30.36-16.96 40.82-10.47 10.47-24.93 16.97-40.83 16.97H170.19c-15.9 0-30.35-6.5-40.82-16.97-10.47-10.46-16.97-24.92-16.97-40.82v-69.78zM340.54 94.64V57.79c0-10.74-4.41-20.53-11.5-27.63-7.09-7.08-16.86-11.48-27.62-11.48H57.79c-10.78 0-20.56 4.38-27.62 11.45l-.04.04c-7.06 7.06-11.45 16.84-11.45 27.62v268.73c0 10.86 4.34 20.79 11.38 27.97 6.95 7.07 16.54 11.49 27.17 11.49h55.17V152.42c0-15.9 6.5-30.35 16.97-40.82 10.47-10.47 24.92-16.96 40.82-16.96h170.35z"
                                                                            fill-rule="nonzero"></path>
                                                                    </svg>Copy
                                                                </span>
                                                                <span>Copied</span>
                                                            </button>


                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="w-50" *ngIf="detaislone?.apikey ==null">-</div>
                                            </div>
                                            <div class="d-flex mb-2">
                                                <div class="w-50 font-weight-bold">Pg OnboardStatus</div>
                                                <div class="w-50">
                                                    <span *ngIf="detaislone?.onBoardStatus=='true'"
                                                        style="color: green;font-weight: 600;">Approved</span>
                                                    <span *ngIf="detaislone?.onBoardStatus=='false'"
                                                        style="color: red;font-weight: 600;">Pending</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6 col-12">
                                        <div class="d-flex flex-column">
                                            <div class="d-flex mb-2">
                                                <div class="w-50 font-weight-bold">Contact Name</div>
                                                <div class="w-50">{{detaislone?.contactName}}</div>
                                            </div>
                                            <div class="d-flex mb-2">
                                                <div class="w-50 font-weight-bold">Contact Email</div>
                                                <div class="w-50">{{detaislone?.contactEmail}}</div>
                                            </div>
                                            <div class="d-flex mb-2">
                                                <div class="w-50 font-weight-bold">Primary Mobile Number
                                                </div>
                                                <div class="w-50">{{detaislone?.contactMobile}}</div>
                                            </div>
                                            <div class="d-flex mb-2">
                                                <div class="w-50 font-weight-bold">Secondary Mobile Number</div>
                                                <div class="w-50">
                                                    <span *ngIf="this.detaislone?.secondaryMobile!=null">
                                                        {{detaislone?.secondaryMobile}}
                                                    </span>
                                                    <span *ngIf="this.detaislone?.secondaryMobile==null">- -</span>
                                                </div>
                                            </div>
                                            <div class="d-flex mb-2">
                                                <div class="w-50 font-weight-bold">Website</div>
                                                <div class="w-50">
                                                    <span
                                                        *ngIf="this.detaislone?.website!=''">{{detaislone?.website}}</span>
                                                    <span *ngIf="this.detaislone?.website=='' ">- -</span>
                                                </div>
                                            </div>
                                            <div class="d-flex mb-2">
                                                <div class="w-50 font-weight-bold">Country</div>
                                                <div class="w-50">{{detaislone?.country}}</div>
                                            </div>
                                            <div class="d-flex mb-2">
                                                <div class="w-50 font-weight-bold">State</div>
                                                <div class="w-50">{{detaislone?.stateName}}</div>
                                            </div>
                                            <div class="d-flex mb-2">
                                                <div class="w-50 font-weight-bold">Gst</div>
                                                <div class="w-50">
                                                    <span *ngIf="this.detaislone?.gstIn!=null">
                                                        {{detaislone?.gstIn}}</span>
                                                    <span *ngIf="this.detaislone?.gstIn==null">- -</span>
                                                </div>
                                            </div>
                                            <div class="d-flex mb-2">
                                                <div class="w-50 font-weight-bold">
                                                    <span style="color: #78ae76">S</span>ecret Key
                                                    <!-- <span style="color: lightgray">(Live Key)</span> -->
                                                </div>
                                                <div class="w-50" *ngIf="detaislone?.secretkey !=null">
                                                    <div style="font-size: 10px; display: flex">
                                                        {{ detaislone?.secretkey | slice : 0 : 10 }}

                                                        <span class="centralize">

                                                            <button (click)="copyText(detaislone?.secretkey)"
                                                                id="apikey">
                                                                <span><svg viewBox="0 0 467 512.22" clip-rule="evenodd"
                                                                        fill-rule="evenodd"
                                                                        image-rendering="optimizeQuality"
                                                                        text-rendering="geometricPrecision"
                                                                        shape-rendering="geometricPrecision"
                                                                        xmlns="http://www.w3.org/2000/svg" fill="#000"
                                                                        height="12" width="12">
                                                                        <path
                                                                            d="M131.07 372.11c.37 1 .57 2.08.57 3.2 0 1.13-.2 2.21-.57 3.21v75.91c0 10.74 4.41 20.53 11.5 27.62s16.87 11.49 27.62 11.49h239.02c10.75 0 20.53-4.4 27.62-11.49s11.49-16.88 11.49-27.62V152.42c0-10.55-4.21-20.15-11.02-27.18l-.47-.43c-7.09-7.09-16.87-11.5-27.62-11.5H170.19c-10.75 0-20.53 4.41-27.62 11.5s-11.5 16.87-11.5 27.61v219.69zm-18.67 12.54H57.23c-15.82 0-30.1-6.58-40.45-17.11C6.41 356.97 0 342.4 0 326.52V57.79c0-15.86 6.5-30.3 16.97-40.78l.04-.04C27.51 6.49 41.94 0 57.79 0h243.63c15.87 0 30.3 6.51 40.77 16.98l.03.03c10.48 10.48 16.99 24.93 16.99 40.78v36.85h50c15.9 0 30.36 6.5 40.82 16.96l.54.58c10.15 10.44 16.43 24.66 16.43 40.24v302.01c0 15.9-6.5 30.36-16.96 40.82-10.47 10.47-24.93 16.97-40.83 16.97H170.19c-15.9 0-30.35-6.5-40.82-16.97-10.47-10.46-16.97-24.92-16.97-40.82v-69.78zM340.54 94.64V57.79c0-10.74-4.41-20.53-11.5-27.63-7.09-7.08-16.86-11.48-27.62-11.48H57.79c-10.78 0-20.56 4.38-27.62 11.45l-.04.04c-7.06 7.06-11.45 16.84-11.45 27.62v268.73c0 10.86 4.34 20.79 11.38 27.97 6.95 7.07 16.54 11.49 27.17 11.49h55.17V152.42c0-15.9 6.5-30.35 16.97-40.82 10.47-10.47 24.92-16.96 40.82-16.96h170.35z"
                                                                            fill-rule="nonzero"></path>
                                                                    </svg>Copy
                                                                </span>
                                                                <span>Copied</span>
                                                            </button>
                                                        </span>
                                                    </div>
                                                </div>
                                                <div class="w-50" *ngIf=" detaislone?.secretkey ==null">
                                                    - -
                                                </div>
                                            </div>

                                            <div class="d-flex mb-2">
                                                <div class="w-50 font-weight-bold">PG Onboard</div>
                                                <div class="w-50">
                                                    <span *ngIf="this.detaislone?.approvalStatusL2 == 'approved'">
                                                        <button class="buttonDownload"
                                                            (click)="pgOnboard()">OnBoard</button></span>
                                                    <span *ngIf="this.detaislone?.approvalStatusL2 == 'Pending'">-
                                                        -</span>
                                                </div>
                                            </div>
                                            <div class="d-flex mb-2">
                                                <div class="w-50 font-weight-bold">Logo</div>
                                                <div class="w-50">
                                                    <span (click)="viewlogo(this.id,this.detaislone?.logoLink)"><i
                                                            class="fas fa-eye"> </i></span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </article>
            </div>
            <button class="btn clear"></button>
        </div>

        <h5 class="p-2 mx-3 mt-5" style="background-color: #bcdf72;color:#fff;font-weight: 500;font-size:20px;">Personal
            Approval</h5>

        <div class="filters">
            <div class="col-12">
                <article class=" car-details label-info mt-2">
                    <div class="d-flex flex-md-row align-items-md-start align-items-center flex-column">
                        <div class="w-100">
                            <div class="container-fluid">
                                <div class="row">
                                    <div class="col-md-6 col-12">
                                        <div class="d-flex flex-column">
                                            <div class="d-flex mb-2">
                                                <div class="w-50 font-weight-bold">
                                                    Approval Status</div>
                                                <div class="w-50">{{this.detaislone?.approvalStatusL1}}</div>
                                            </div>
                                            <div class="d-flex mb-2">
                                                <div class="w-50 font-weight-bold">
                                                    Approved By</div>
                                                <div class="w-50">
                                                    <span *ngIf="this.detaislone?.approvedByL1!=null">
                                                        {{this.detaislone?.approvedByL1}}</span>
                                                    <span *ngIf="this.detaislone?.approvedByL1==null">-</span>
                                                </div>
                                            </div>
                                            <div class="d-flex mb-2">
                                                <div class="w-50 font-weight-bold">
                                                    Comments</div>
                                                <div class="w-50 mx-2"
                                                    style="font-size:18px;cursor: pointer;color:#141E46;"><span
                                                        (click)="leveloneComments(this.detaislone?.comment)"><i
                                                            class="fas fa-comments"></i></span></div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6 col-12">
                                        <div class="d-flex flex-column">
                                            <div class="d-flex mb-2">
                                                <div class="w-50 font-weight-bold">Approval At</div>
                                                <div class="w-50">
                                                    <span *ngIf="this.detaislone?.approvedDateTimeL1!=null">
                                                        {{this.detaislone?.approvedDateTimeL1}}
                                                    </span>
                                                    <span *ngIf="this.detaislone?.approvedDateTimeL1==null">-</span>
                                                </div>
                                            </div>
                                            <div class="d-flex mb-2">
                                                <div class="w-50 font-weight-bold">Approval</div>
                                                <div class="w-50">
                                                    <button class="buttonDownload"
                                                        (click)="levelOneApproval(this.id)">Approval</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </article>
            </div>
            <button class="btn clear"></button>
        </div>
    </div>
    <div *ngIf="activeTab === 'materials'">
        <mat-card-header>
            <div class="row  d-flex justify-content-start">
                <div class="col-md-3">
                    <div class="search ">
                        <form class="form">
                            <label for="search">
                                <input #input required="" autocomplete="off" placeholder="Search" id="search"
                                    type="text" [(ngModel)]="searchText">
                                <div class="icon">
                                    <svg stroke-width="2" stroke="currentColor" viewBox="0 0 24 24" fill="none"
                                        xmlns="http://www.w3.org/2000/svg" class="swap-on">
                                        <path d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" stroke-linejoin="round"
                                            stroke-linecap="round"></path>
                                    </svg>
                                    <svg stroke-width="2" stroke="currentColor" viewBox="0 0 24 24" fill="none"
                                        xmlns="http://www.w3.org/2000/svg" class="swap-off">
                                        <path d="M10 19l-7-7m0 0l7-7m-7 7h18" stroke-linejoin="round"
                                            stroke-linecap="round">
                                        </path>
                                    </svg>
                                </div>
                                <button type="reset" class="close-btn">
                                    <svg viewBox="0 0 20 20" class="h-5 w-5" xmlns="http://www.w3.org/2000/svg">
                                        <path clip-rule="evenodd"
                                            d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
                                            fill-rule="evenodd"></path>
                                    </svg>
                                </button>
                            </label>
                        </form>
                    </div>
                </div>
                <div class="col-md-2 mt-1">
                    <button (click)="addbank(this.id)"
                        style="color:white;background-color: #141E46;border-radius: 10px;" mat-raised-button>Add
                        Bank</button>
                </div>
            </div>
        </mat-card-header>
        <div class="row mt-4">
            <div class="col-12 mb-3 mb-lg-5">
                <div class="card table-nowrap table-card">
                    <div class="table-responsive text-nowrap text-center">
                        <table class="table table-hover" id="customers">
                            <tr>
                                <th>S No </th>
                                <th>Beneficiary Name</th>
                                <th>Account Number</th>
                                <th>Account Type</th>
                                <th>IFSC Code</th>
                                <th>Bank Name</th>
                                <th>Branch Name</th>
                                <th>Approval Status</th>
                                <th>Bank Status</th>
                                <th>Primary Status</th>
                                <th>Approval</th>
                                <th>Approvet At</th>
                                <th>Comments</th>
                                <th>Action</th>
                                <th>Verification</th>
                            </tr>
                            <tbody
                                *ngFor="let item of bankdetails| paginate: { itemsPerPage: 3, currentPage: currentPage } | search: searchText;let i=index">
                                <td>{{i+1}}</td>
                                <td>{{item.accountHolderName}}</td>
                                <td>{{item.accountNumber}}</td>
                                <td>{{item.accountType}}</td>
                                <td>{{item.ifscCode}}</td>
                                <td>{{item.bankName}}</td>
                                <td>{{item.branchName}}</td>
                                <td [ngClass]="{
                                                    yellow: item?.approvalStatus === 'Pending',
                                                    green: item?.approvalStatus === 'approved',
                           
                                                    Red: item?.approvalStatus == 'Rejected'
                                                  }">{{item.approvalStatus}}</td>
                                <td><span> <mat-slide-toggle class="example-margin" color="primary"
                                            [checked]="item.activeStatus==1"
                                            (change)="bankStatus($event,item.merchantBankId)">
                                        </mat-slide-toggle></span>

                                </td>
                                <td><span>
                                        <mat-slide-toggle class="example-margin" color="primary"
                                            [checked]="item.primaryAccountStatus==1"
                                            (change)="onSubmit($event,item.merchantBankId)">
                                        </mat-slide-toggle>
                                    </span>
                                </td>
                                <td><button class="buttonDownload"
                                        (click)="BankApproval(item.merchantBankId)">Approval</button>
                                </td>
                                <td>{{item.approvalDateTime|date:"dd/MM/yyyy hh:mm:a"}}</td>
                                <td><span (click)="BankComments(item.reMarks)"><i class="fas fa-comments"
                                            style="text-align: center;cursor: pointer;font-size:15px; color:#545497;"></i></span>
                                </td>

                                <td><span><i style="text-align: center;cursor: pointer;font-size:15px; color:#545497;"
                                            (click)="editbank(item)" class="fas fa-edit"></i></span></td>
                                <td>
                                    <span>
                                        <i style="overflow:hidden;color:#141E46;font-size:20px;"
                                            [matMenuTriggerFor]="menu" class="fa-solid fa-circle-info">
                                            <mat-menu #menu="matMenu">
                                                <button style="font-size: 10px;" mat-menu-item
                                                    (click)="bankInfo(item.bavId)">Info</button>
                                                <button style="font-size: 10px;" mat-menu-item
                                                    [disabled]="item.facheckStatus==1"
                                                    (click)="bankVerification(item.merchantBankId)">Verify</button>
                                                <button style="font-size: 10px;" mat-menu-item
                                                    [disabled]="item.facheckStatus==0  || item.facheckStatus==2"
                                                    (click)="bankVerification(item.merchantBankId)">
                                                    Re-Verify </button>
                                            </mat-menu>
                                        </i>
                                    </span>
                                </td>
                            </tbody>
                        </table>
                    </div>
                    <div class="text-end mt-3">
                        <pagination-controls (pageChange)="currentPage = $event"></pagination-controls>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div *ngIf="activeTab === 'videos'">
        <mat-card-header>
            <div class="row  d-flex justify-content-start">
                <div class="col-md-3">
                    <div class="search ">
                        <form class="form">
                            <label for="search">
                                <input #input required="" autocomplete="off" placeholder="Search" id="search"
                                    type="text" [(ngModel)]="searchText">
                                <div class="icon">
                                    <svg stroke-width="2" stroke="currentColor" viewBox="0 0 24 24" fill="none"
                                        xmlns="http://www.w3.org/2000/svg" class="swap-on">
                                        <path d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" stroke-linejoin="round"
                                            stroke-linecap="round"></path>
                                    </svg>
                                    <svg stroke-width="2" stroke="currentColor" viewBox="0 0 24 24" fill="none"
                                        xmlns="http://www.w3.org/2000/svg" class="swap-off">
                                        <path d="M10 19l-7-7m0 0l7-7m-7 7h18" stroke-linejoin="round"
                                            stroke-linecap="round">
                                        </path>
                                    </svg>
                                </div>
                                <button type="reset" class="close-btn">
                                    <svg viewBox="0 0 20 20" class="h-5 w-5" xmlns="http://www.w3.org/2000/svg">
                                        <path clip-rule="evenodd"
                                            d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
                                            fill-rule="evenodd"></path>
                                    </svg>
                                </button>
                            </label>
                        </form>
                    </div>
                </div>
                <div class="col-md-2 mt-1">
                    <button (click)="addKycdocuments(this.id,this.businessCategoryId)"
                        style="color:white;background-color: #141E46;border-radius: 10px;" mat-raised-button>Add
                        KYC</button>
                </div>
            </div>
        </mat-card-header>
        <div class="row mt-4">
            <div class="col-12 mb-3 mb-lg-5">
                <div class="card table-nowrap table-card">
                    <div class="table-responsive text-nowrap text-center">
                        <table class="table table-hover" id="customers">
                            <tr>
                                <th>S No </th>
                                <th>Document Name</th>
                                <th>Document Number</th>
                                <th>KYC File</th>
                                <th>Approval Status</th>
                                <th>Approval</th>
                                <th>Approved By</th>
                                <th>Approval At</th>
                                <th>Comments</th>
                                <th>Action</th>
                                <th>Verification Status</th>
                                <th>Verfication </th>
                            </tr>
                            <tbody
                                *ngFor="let item of KYCDetails| paginate: { itemsPerPage: 3, currentPage: currentPage } | search: searchText;let i=index">
                                <td>{{i+1}}</td>
                                <td>{{item.docName}}</td>
                                <td>{{item.docNumber}}</td>
                                <td><span (click)="getFrontPath(item.merchantDocumentId)"><i class='fa-regular fa-image'
                                            style='font-size:15px;cursor: pointer;color:#545497;'></i></span>
                                    <span (click)="getBackPath(item.merchantDocumentId)"><i class='fa-regular fa-image'
                                            style='font-size:15px;cursor: pointer;color:#545497;'></i></span>
                                </td>
                                <td [ngClass]="{
                                                        yellow: item?.approvalStatus === 'Pending',
                                                        green: item?.approvalStatus === 'approved',
                               
                                                        Red: item?.approvalStatus == 'Rejected'
                                                      }">{{item.approvalStatus}}</td>
                                <td><button class="buttonDownload"
                                        (click)="KycApproval(item.merchantDocumentId)">Approval</button>
                                <td>
                                    {{item.approvalBy}}
                                </td>
                                <td>{{item.approvalDateTime}}</td>
                                <td><span (click)="KYCComments(item.reMarks)"><i class="fas fa-comments"
                                            style="text-align: center;cursor: pointer;font-size:15px; color:#545497;"></i></span>
                                </td>
                                <td><span (click)="editKycDocuments(item.merchantDocumentId,item)"><i
                                            class="fas fa-edit"
                                            style="text-align: center;cursor: pointer;font-size:15px; color:#545497;"></i></span>
                                </td>

                                <td class="text-center">
                                    <span *ngIf="item.facheckStatus == 0" style="font-size:14px;color:red;">
                                        Pending</span>
                                    <span *ngIf="item.facheckStatus == 1"
                                        style="font-size:14px;color:green;">Verified</span>
                                    <span *ngIf="item.facheckStatus == 2" style="font-size:14px;color:red;">
                                        Failed</span>
                                </td>
                                <td>
                                    <span>
                                        <i style="overflow:hidden;color:#141E46;font-size:20px;"
                                            [matMenuTriggerFor]="menu" class="fa-solid fa-circle-info">
                                            <mat-menu #menu="matMenu">
                                                <button style="font-size: 10px;" mat-menu-item
                                                    (click)="KycInfo(item.kycId,item.docName)">Info</button>
                                                <button style="font-size: 10px;" mat-menu-item
                                                    [disabled]="item.facheckStatus==1"
                                                    (click)="FacheckVerification(item.docName,item.docNumber,item.merchantDocumentId,item.approvalBy)">Verify</button>
                                                <button style="font-size: 10px;" mat-menu-item
                                                    [disabled]="item.facheckStatus==0"
                                                    (click)="FacheckVerification(item.docName,item.docNumber,item.kycId,item.approvalBy)">
                                                    Re-Verify </button>
                                            </mat-menu>
                                        </i>
                                    </span>

                                </td>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="text-end mt-3">
                    <pagination-controls (pageChange)="currentPage = $event"></pagination-controls>
                </div>
            </div>
        </div>
    </div>
    <div *ngIf="activeTab === 'doot1'">
        <mat-card-header>
            <div class="row  d-flex justify-content-start">
                <div class="col-md-3">
                    <div class="search ">
                        <form class="form">
                            <label for="search">
                                <input #input required="" autocomplete="off" placeholder="Search" id="search"
                                    type="text" [(ngModel)]="searchText">
                                <div class="icon">
                                    <svg stroke-width="2" stroke="currentColor" viewBox="0 0 24 24" fill="none"
                                        xmlns="http://www.w3.org/2000/svg" class="swap-on">
                                        <path d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" stroke-linejoin="round"
                                            stroke-linecap="round"></path>
                                    </svg>
                                    <svg stroke-width="2" stroke="currentColor" viewBox="0 0 24 24" fill="none"
                                        xmlns="http://www.w3.org/2000/svg" class="swap-off">
                                        <path d="M10 19l-7-7m0 0l7-7m-7 7h18" stroke-linejoin="round"
                                            stroke-linecap="round">
                                        </path>
                                    </svg>
                                </div>
                                <button type="reset" class="close-btn">
                                    <svg viewBox="0 0 20 20" class="h-5 w-5" xmlns="http://www.w3.org/2000/svg">
                                        <path clip-rule="evenodd"
                                            d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
                                            fill-rule="evenodd"></path>
                                    </svg>
                                </button>
                            </label>
                        </form>
                    </div>
                </div>
            </div>
        </mat-card-header>
        <div class="row mt-4">
            <div class="col-12 mb-3 mb-lg-5">
                <div class="card table-nowrap table-card">
                    <div class="table-responsive text-nowrap text-center">
                        <table class="table table-hover" id="customers">
                            <tr>
                                <th>S No </th>
                                <th>Overall Approval Status</th>
                                <th>Approved By</th>
                                <th>Approval At</th>
                                <th>Approval</th>
                                <th>Comments</th>
                            </tr>
                            <tbody>
                                <td class="text-center">1</td>
                                <td class="text-center">{{this.detaislone?.approvalStatusL2}}</td>
                                <td class="text-center">{{this.detaislone?.approvedByL2}}</td>
                                <td class="text-center">{{this.detaislone?.approvedDateTimeL2}}</td>
                                <td class="text-center">
                                    <span><button class="buttonDownload" (click)="levelTwoApproval(this.id)"
                                            [disabled]="this.detaislone?.approvalStatusL1 == 'Pending' || this.detaislone?.approvalStatusL1 == 'Rejected' ">Approval</button></span>


                                <td style="text-align: center;font-size:15px;cursor: pointer;color:#545497;"><span
                                        (click)="levelTwoComments(this.detaislone?.commentL2)"><i
                                            class="fas fa-comments"></i></span></td>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="text-end mt-3">
                    <pagination-controls (pageChange)="p= $event"></pagination-controls>
                </div>
            </div>
        </div>
    </div>
</div>
<div *ngIf="activeTab === 'doot2'">
    <mat-card-header>
        <div class="row  d-flex justify-content-start">
            <div class="col-md-3">
                <div class="search ">
                    <form class="form">
                        <label for="search">
                            <input #input required="" autocomplete="off" placeholder="Search" id="search" type="text"
                                [(ngModel)]="searchText">
                            <div class="icon">
                                <svg stroke-width="2" stroke="currentColor" viewBox="0 0 24 24" fill="none"
                                    xmlns="http://www.w3.org/2000/svg" class="swap-on">
                                    <path d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" stroke-linejoin="round"
                                        stroke-linecap="round"></path>
                                </svg>
                                <svg stroke-width="2" stroke="currentColor" viewBox="0 0 24 24" fill="none"
                                    xmlns="http://www.w3.org/2000/svg" class="swap-off">
                                    <path d="M10 19l-7-7m0 0l7-7m-7 7h18" stroke-linejoin="round"
                                        stroke-linecap="round">
                                    </path>
                                </svg>
                            </div>
                            <button type="reset" class="close-btn">
                                <svg viewBox="0 0 20 20" class="h-5 w-5" xmlns="http://www.w3.org/2000/svg">
                                    <path clip-rule="evenodd"
                                        d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
                                        fill-rule="evenodd"></path>
                                </svg>
                            </button>
                        </label>
                    </form>
                </div>
            </div>
            <div class="col-md-2 mt-1">
                <button (click)="createmanualPayement()"
                    style="color:white;background-color: #141E46;border-radius: 10px;" mat-raised-button>Create
                </button>
            </div>
        </div>
    </mat-card-header>
    <div class="row mt-4">
        <div class="col-12 mb-3 mb-lg-5">
            <div class="card table-nowrap table-card">
                <div class="table-responsive text-nowrap text-center">
                    <table class="table table-hover" id="customers">
                        <tr>
                            <th>S No </th>
                            <th>Payment ID</th>
                            <th>Paid Amount</th>
                            <th>Payment Method</th>
                            <th>Edit</th>
                            <th>View</th>
                            <th>Payment Status</th>
                            <th>Payment At</th>
                        </tr>
                        <tbody
                            *ngFor="let item of manualDetails| paginate: { itemsPerPage: 3, currentPage: currentPage } | search: searchText;let i=index">
                            <td>{{i+1}}</td>
                            <td>{{item.paymentId}}</td>
                            <td>{{item.paidAmount}}</td>
                            <td>{{item.paymentMethod}}</td>
                            <td (click)="manualPayement(item)"><i class="fas fa-edit"
                                    style="font-size: 16px;color: rgb(39, 39, 95);"></i></td>
                            <td (click)="viewmanualtransaction(item.merchantPayId)"> <i class="fas fa-eye"
                                    style="font-size: 16px;color: rgb(39, 39, 95);"></i></td>
                            <td>{{item.paymentStatus}}</td>
                            <td>{{item.paymentDateTime | date:"dd-mm-yyy hh:mmm a"}}</td>
                        </tbody>
                    </table>
                </div>
                <div class="text-end mt-3">
                    <pagination-controls (pageChange)="currentPage = $event"></pagination-controls>
                </div>
            </div>
        </div>
    </div>
</div>