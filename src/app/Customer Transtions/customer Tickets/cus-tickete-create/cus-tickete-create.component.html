<div class="card-header">
    <h3 class="mb-0" style="font-weight: 700;text-align:center;font-size: 21px;">Raise a Complaint</h3>
</div>

<!-- <body class="page"> -->
<main  class="main page__main">
    <form  class="form main__form" autocomplete="off" class="form" role="form"
        [formGroup]="ticketcreate">

        <div class="form__linput">
            <label class="form__label">Entity Name</label>
            <select class="form-select" type="text" formControlName="merchantId" required [(ngModel)]="merchants" (ngModelChange)="customer(merchants)" >
                <option *ngFor="let item of entity" [value]="item.merchantId.merchantId">{{item.merchantId.merchantLegalName}}</option>
            </select>

            <!-- <div style="color: red; font-size: 12px;margin-top: 2px;"
                *ngIf="merchant?.invalid && merchant?.touched && merchant?.errors?.['required']">
                Field is required
            </div> -->
        </div>

        <div class="form__linput">
            <label class="form__label" for="fname">Category</label>
            <select class="form-select" type="text" formControlName="categoryName" required>
                <option value="Technical issue">Technical issue</option>
                <option value="Payment Issue">Payment Issue</option>
            </select>
            <div style="color: red; font-size: 12px;margin-top: 2px;"
            *ngIf="categoryName?.invalid && categoryName?.touched && categoryName?.errors?.['required']">
            Field is required
        </div>
        </div>

        <div class="form__linput">
            <label class="form__label" for="fname">Description</label>
            <textarea class="form__input" id="fname" type="text" formControlName="description" 
                placeholder="Enter Description..." name="" id=""></textarea>
            <div style="color: red; font-size: 12px;margin-top: 2px;"
                    *ngIf="description?.invalid && description?.touched && description?.errors?.['required']">
                    Field is required
                </div>
        </div>


        <div class="form__linput">
            <label for="fname" class="form__label">Upload Image</label>
            <input  (change)="onFileSelected($event)"   accept="image/*" type="file" id="Entity Name" formControlName="fileImage"
            class="form-control">
            <!-- <div style="color: red;
            font-size: 12px;
            margin-top: 2px;
            position: relative;" 
            *ngIf="fileImage?.invalid && fileImage?.touched && fileImage?.errors?.['required']">
                Field is required
            </div> -->
            <div style="color: red; font-size: 12px;margin-top: 2px;" *ngIf="errorMessage">
                {{errorMessage}}
            </div>
        </div>

        <div class="mt-3">
            <button (click)="create()" [disabled]="ticketcreate.invalid" type="submit" class="btn mx-1"
                style="background-color: #7db855be">
                Submit
            </button>
            <button type="submit" class="btn" style="background-color: #141e46; color: white" matDialogClose>
                Cancel
            </button>
        </div>
    </form>
</main>
<!-- </body> -->