<link href="https://stackpath.bootstrapcdn.com/bootstrap/5.3.0/css/bootstrap.min.css">


<div class="container">

    <div class="card-header d-flex justify-content-between align-items-center">
        <h5 class="mb-0">{{"Customer Plan Creation"|translate}}</h5>
        <button type="button" class="btn btn-secondary" matDialogClose>{{"Back"|translate}}</button>
    </div>

  <div class="well" style="margin-top: 0px">
    <form [formGroup]="myForm">
      <div class="row mt-2">
        <div class="col-sm-4 form-group">
          <label for="website">{{ "Service Provider" | translate }}</label>
          <select class="form-select" formControlName="mso" (change)="getServiceId($event)">
            <option [value]="items.serviceId" *ngFor="let items of Activemsostbproviders">
              {{ items?.serviceProviderName }}
            </option>
          </select>
          <div style="
              color: red;
              font-size: 12px;
              margin-top: 2px;
              position: relative; ;
            " *ngIf="mso?.invalid && mso?.touched && mso?.errors?.['required']">
            Field is required
          </div>
        </div>

        <div class="col-sm-4 form-group">
          <label for="website">{{"Setup Box Number" | translate}}</label>
          <div class="input-group">
            <input type="text" class="form-control" (change)="getIdvalue($event)" formControlName="setupboxInput" placeholder="Enter setup box number" list="setupboxList" (input)="onInputChange()">
            <datalist id="setupboxList"  >
              <option *ngFor="let item of ActiveSetupbox" [value]="item.setupBoxNumber">
                 {{item.setupBoxNumber}} </option>
            </datalist>
            <div class="input-group-append">
              <button style="background-color:rgb(34, 34, 163)" class="btn btn-outline-secondary" type="button" (click)="fetchSetupBoxData()">
                <i style="color:white" class="fas fa-search"></i>
              </button>
            </div>
          </div>
          <div style="color: red; font-size: 12px; margin-top: 2px; position: relative;" *ngIf="setupboxInput?.invalid && setupboxInput?.touched && setupboxInput?.errors?.['required']">
            Field is required
          </div>
        </div>
        
        <div class="col-sm-4 form-group">
          <label for="website">{{ "Door No" | translate }}</label>
          <input [(ngModel)]="doorNumbers" type="url" id="website" class="form-control" formControlName="doorNumber" />
          <div style="
              color: red;
              font-size: 12px;
              margin-top: 2px;
              position: relative;
              ;
            " *ngIf="doorNumber?.invalid && doorNumber?.touched && doorNumber?.errors?.['required']">
                        Field is required
                    </div>
                </div>
                <div class="col-sm-4 form-group">
                    <label for="website">{{"Area"|translate}}</label>
                    <input [(ngModel)]="areaNames" type="url" id="website" class="form-control"
                        formControlName="areaName">
                    <div style="
              color: red;
              font-size: 12px;
              margin-top: 2px;
              position: relative;
              ;
            " *ngIf="areaName?.invalid && areaName?.touched && areaName?.errors?.['required']">
                        Field is required
                    </div>
                </div>
                <div class="col-sm-4 form-group">
                    <label for="website">{{"Street Name"|translate}}</label>
                    <input [(ngModel)]="streetNames" type="url" id="website" class="form-control"
                        formControlName="streetName">
                    <div style="
              color: red;
              font-size: 12px;
              margin-top: 2px;
              position: relative;
              ;
            " *ngIf="streetName?.invalid && streetName?.touched && streetName?.errors?.['required']">
                        Field is required
                    </div>
                </div>
                <div class="col-sm-4 form-group">
                    <label for="website">{{"Paid Channel"|translate}}</label>

                    <mat-select #select1 style="font-size: 12px;" class="form-select" multiple
                        formControlName="paidChannel">
                        <div class="select-all">
                            <mat-checkbox [(ngModel)]="allSelected1" [ngModelOptions]="{standalone: true}"
                                (change)="toggleAllSelection1()">Select All</mat-checkbox>
                        </div>
                        <mat-option [value]="items.alcotId" *ngFor="let items of Channels">

                            {{items?.channelName}}</mat-option>
                    </mat-select>
                    <!-- <div style="
        color: red;
        font-size: 12px;
        margin-top: 2px;
        position: relative;
        ;
      " *ngIf="paidChannel?.invalid && paidChannel?.touched && paidChannel?.errors?.['required']">
                        Field is required
                    </div> -->
                </div>
            </div>

            <div class="row mt-2">






                <div class="col-sm-4 form-group">
                    <label>{{"Broadcaster Plans"|translate}}</label>
                    <mat-select #select2 style="font-size: 12px;" class="form-select" multiple
                        formControlName="broadcaster">
                        <div class="select-all">
                            <mat-checkbox [(ngModel)]="allSelected2" [ngModelOptions]="{standalone: true}"
                                (change)="toggleAllSelection2()">Select All</mat-checkbox>
                        </div>
                        <mat-option [value]="items.bouquetId" *ngFor="let items of ActivePlans">
                            {{items?.bouquetCreation.bouquetName}}
                        </mat-option>
                    </mat-select>
                    <div style="
      color: red;
      font-size: 12px;
      margin-top: 2px;
      position: relative;
      ;
    " *ngIf="broadcaster?.invalid && broadcaster?.touched && broadcaster?.errors?.['required']">
                        Field is required
                    </div>
                </div>
                <div class="col-sm-4 form-group">

                    <label for="website">{{"LCOP Plans"|translate}} </label>
                    <mat-select #select3 style="font-size: 12px;" class="form-select" multiple formControlName="lcop">
                        <div class="select-all">
                            <mat-checkbox [(ngModel)]="allSelected3" [ngModelOptions]="{standalone: true}"
                                (change)="toggleAllSelection3()">Select All</mat-checkbox>
                        </div>
                        <mat-option [value]="items.lcopId" *ngFor="let items of ActiveLCOP">
                            {{items?.planName}}
                        </mat-option>
                    </mat-select>
                    <div style="
        color: red;
        font-size: 12px;
        margin-top: 2px;
        position: relative;
        ;
      " *ngIf="lcop?.invalid && lcop?.touched && lcop?.errors?.['required']">
                        Field is required
                    </div>
                </div>
                <div class="col-md-4 form-group">
                    <label for="website">{{"Billing Date"|translate}}</label>
                    <input type="date" id="website" class="form-control" formControlName="billingDate">
                    <div style="
                    color: red;
                    font-size: 12px;
                    margin-top: 2px;
                    position: relative;
                    ;
                  " *ngIf="billingDate?.invalid && billingDate?.touched && billingDate?.errors?.['required']">
                        Field is Required
                    </div>
                </div>
            </div>

            <div class="col-sm-7 form-group" style="margin-left: -15px;">
                <input style="cursor: pointer;" (change)="Primarydetails($event)" type="checkbox" >

                <label style="margin-left:10px">{{"Set Primary Address"|translate}}</label>
               
            </div>

            <div class="mt-3">
                <button type="submit" class="btn mx-1 " style="background-color:#7db855be" (click)="submit()"
                    [disabled]="this.myForm.invalid">{{"Submit"|translate}}</button>
                <button matDialogClose type="submit" class="btn"
                    style="background-color:#141E46;color:white">{{"Cancel"|translate}}</button>

            </div>
        </form>
    </div>

</div>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/5.3.0/js/bootstrap.min.js"></script>