<div *ngIf="roleName=='Merchant Super admin'">
    <h4 style="text-align:left;color:#141E46;">{{"Route Configuration"|translate}}</h4>
    <mat-card-header>
        <div class="row mt-4"  >
       
     
     
            <div class="col-md-3">
     
                <div class="search">
                    <form class="form">
                        <label for="search">
                            <input #input (keyup)="applyFilter($event)" required="" autocomplete="off" placeholder="Search"
                                id="search" type="text">
                            <div class="icon">
                                <svg stroke-width="2" stroke="currentColor" viewBox="0 0 24 24" fill="none"
                                    xmlns="http://www.w3.org/2000/svg" class="swap-on">
                                    <path d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" stroke-linejoin="round"
                                        stroke-linecap="round"></path>
                                </svg>
                                <!-- <svg stroke-width="2" stroke="currentColor" viewBox="0 0 24 24" fill="none"
                                    xmlns="http://www.w3.org/2000/svg" class="swap-off">
                                    <path d="M10 19l-7-7m0 0l7-7m-7 7h18" stroke-linejoin="round" stroke-linecap="round">
                                    </path>
                                </svg> -->
                            </div>
                            <button type="reset"  (click)="reload()" class="close-btn">
                                <svg viewBox="0 0 20 20" class="h-5 w-5" xmlns="http://www.w3.org/2000/svg">
                                    <path clip-rule="evenodd"
                                        d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
                                        fill-rule="evenodd"></path>
                                </svg>
                            </button>
                        </label>
                    </form>
     </div>
                </div>
                <div class="col-md-9 d-flex flex-wrap">
                    <button (click)="create()" style="color:white;background-color: #141E46;border-radius: 10px;"
                        mat-raised-button >{{"Create"|translate}}</button>
                    <button style="color:white;background-color: #141E46;border-radius: 10px;"   (click)="exportexcel()"
                        mat-raised-button>{{"Export"|translate}}</button>
                        <div class="dropdown">
                            <button class="btn btn-secondary dropdown-toggle custom-btn btn-10"
                              style="color:white; background-color: #141E46;font-size: smaller; border-radius: 10px;font-size: small;width:106px; height:37px;font-weight: 500;"
                              type="button" id="dropdownMenuButton" data-bs-toggle="dropdown" aria-expanded="false">
                              {{"Actions" | translate}}
                            </button>
                            <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                              <li>
                                <button class="dropdown-item" (click)="openexcel()">
                                    {{"Download Template" | translate}}
                                  </button>
                              </li>
                              <li>
                                <button class="dropdown-item" (click)="createroute()" >{{"Upload File"|translate}}</button>
                              </li>
                              <li>
                                <button class="dropdown-item" (click)="openfield()">
                                    {{"Download Employee Update Template" | translate}}
                                  </button>
                              </li>
                              <li>
                                <button class="dropdown-item" (click)="createroutefield()" >{{"Upload Employee Update File"|translate}}</button>
                              </li>
                           
                           
                       
                              </ul>
                            </div>
                            </div>
             
     
     
             
         
               
    </div>

</mat-card-header>
    <mat-card-content>
   
        <div class="table-responsive text-nowrap mt-4" style="overflow-x: scroll; scrollbar-width: thin;">
            <!-- <span  class="errormge">NO DATA FOUND</span> -->
     
            <table id="season-tble" matSort mat-table [dataSource]="dataSource" class="mat-elevation-z1">
     
                <ng-container matColumnDef="stbId">
                    <th mat-header-cell *matHeaderCellDef>{{"S.No"|translate}}</th>
                    <td mat-cell *matCellDef="let data; let i = index"> {{i+1}} </td>
                </ng-container>
     
                <ng-container matColumnDef="adminName">
                    <th mat-header-cell *matHeaderCellDef>{{"Employee"|translate}}</th>
                    <td mat-cell *matCellDef="let data">
                      {{data?.merchantAdminId?.adminName}}
                    </td>
                </ng-container>


     
                <ng-container matColumnDef="beatRole">
                    <th mat-header-cell *matHeaderCellDef>{{"Beat Role"|translate}}</th>
                    <td mat-cell *matCellDef="let data">
                      {{data?.beatRole}}
                    </td>
                </ng-container>
     
                <ng-container matColumnDef="mobileNumber">
                    <th mat-header-cell *matHeaderCellDef>{{"Mobile Number"|translate}}</th>
                    <td mat-cell *matCellDef="let data">
                      {{data?.merchantAdminId?.mobileNumber}}
                    </td>
                </ng-container>
                <!-- <ng-container matColumnDef="streetName">
                    <th mat-header-cell *matHeaderCellDef [hidden]="valuerouteview!=='Route Configuration-View'">Street</th>
                    <td mat-cell *matCellDef="let data" [hidden]="valuerouteview!=='Route Configuration-View'">
                        <i  class="fa fa-eye" (click)="streetView(data?.streetName)"></i>
                    </td>
                </ng-container>
     
                <ng-container matColumnDef="area">
                    <th mat-header-cell *matHeaderCellDef [hidden]="valuerouteview!=='Route Configuration-View'">Area</th>
                    <td mat-cell *matCellDef="let data" [hidden]="valuerouteview!=='Route Configuration-View'">
                        <i  class="fa fa-eye" (click)="areaView(data?.area)"></i>
                    </td>
                </ng-container> -->
     
                <ng-container matColumnDef="status">
                    <th mat-header-cell *matHeaderCellDef >{{"Status"|translate}}</th>
                    <td mat-cell *matCellDef="let data" >
                        <mat-slide-toggle class="example-margin" color="primary"
                        [checked]="data.activeStatus === 1"  (change)="onSubmit($event,data.routeId)" >
                    </mat-slide-toggle>
                    </td>
                </ng-container>
     
                <ng-container matColumnDef="action">
                    <th mat-header-cell *matHeaderCellDef >{{"Action"|translate}}</th>
                    <td mat-cell *matCellDef="let data">
                        <i class="fa fa-edit" (click)="edit(data)"></i>
                    </td>
                </ng-container>
     
                <ng-container matColumnDef="View">
                    <th mat-header-cell *matHeaderCellDef >{{"View"|translate}}</th>
                    <td style="cursor: pointer;" mat-cell *matCellDef="let data" (click)="Viewdata(data.routeId)"
                    >
                      <i class="fas fa-eye" style="font-size: 16px;color: rgb(39, 39, 95);"></i>
                    </td>
                  </ng-container>
           
     
                 
     
                  <ng-container matColumnDef="viewpincode">
                    <th mat-header-cell *matHeaderCellDef >{{"Customer Details"|translate}}</th>
                    <td style="cursor: pointer;" mat-cell *matCellDef="let data" (click)="pasc(data?.merchantAdminId?.merchantAdminId)"
                 >
                      <i class="fas fa-eye" style="font-size: 16px;color: rgb(39, 39, 95);"></i>
                    </td>
                  </ng-container>
           
     
     
                <ng-container matColumnDef="CreatedBy">
                    <th mat-header-cell *matHeaderCellDef>{{"Created By"|translate}}</th>
                    <td mat-cell *matCellDef="let data">
                    {{data?.createdBy}}
                    </td>
                </ng-container>
     
                <ng-container matColumnDef="createdAt">
                    <th mat-header-cell *matHeaderCellDef>{{"Created At"|translate}}</th>
                    <td mat-cell *matCellDef="let data">
                    {{data?.createdAt | date : "dd/MM/yyyy hh:mm a"}}
                    </td>
                </ng-container>
     
                <ng-container matColumnDef="modifiedBy">
                    <th mat-header-cell *matHeaderCellDef>{{"Modified By"|translate}}</th>
                    <td mat-cell *matCellDef="let data">
                      {{ data.modifiedBy }}
                    </td>
                  </ng-container>
           
                  <ng-container matColumnDef="modifiedDateTime">
                    <th mat-header-cell *matHeaderCellDef>{{"Modified Date"|translate}}</th>
                    <td mat-cell *matCellDef="let data">
                      {{ data.modifiedAt | date : "dd/MM/yyyy hh:mm a" }}
                    </td>
                  </ng-container>
     
                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row;columns:displayedColumns"></tr>
                <tr *matNoDataRow>
                    <td class="mat-cell" colspan="0" *ngIf="searchPerformed">{{"No Data For"|translate}} {{input.value}}</td>
                    <td class="mat-cell" colspan="0" *ngIf="!searchPerformed && dataSource.data.length === 0">{{"No Data"|translate}}</td>
                  </tr>
            </table>
        </div>
    </mat-card-content>
    <mat-card-footer>
        <mat-paginator [pageSizeOptions]="[5,10,20,50,100]" showFirstLastButtons
            aria-labels="select page of users">
        </mat-paginator>
    </mat-card-footer>
     
     
    </div>
     
     
     
     
    <div *ngIf="roleName!=='Merchant Super admin'">
    <h4 style="text-align:left;color:#141E46;">{{"Route Configuration"|translate}}</h4>
    <br>
    <mat-card-header>
            <div class="row  d-flex justify-content-start">
                <div class="col-md-3">
                    <div class="search ">
                        <form class="form">
                            <label for="search">
                                <input #input (ngModelChange)="onSearchTextChange()"  name="search" required autocomplete="off" placeholder="Search" id="search" type="text" [(ngModel)]="searchText">
     
                                <div class="icon">
                                    <svg stroke-width="2" stroke="currentColor" viewBox="0 0 24 24" fill="none"
                                        xmlns="http://www.w3.org/2000/svg" class="swap-on">
                                        <path d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" stroke-linejoin="round"
                                            stroke-linecap="round"></path>
                                    </svg>
                                    <svg stroke-width="2" stroke="currentColor" viewBox="0 0 24 24" fill="none"
                                        xmlns="http://www.w3.org/2000/svg" class="swap-off">
                                        <path d="M10 19l-7-7m0 0l7-7m-7 7h18" stroke-linejoin="round"
                                            stroke-linecap="round">
                                        </path>
                                    </svg>
                                </div>
                                <button type="reset" class="close-btn">
                                    <svg viewBox="0 0 20 20" class="h-5 w-5" xmlns="http://www.w3.org/2000/svg">
                                        <path clip-rule="evenodd"
                                            d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
                                            fill-rule="evenodd"></path>
                                    </svg>
                                </button>
                            </label>
                        </form>
                    </div>
                </div>
                <!-- <div class="col-md-7 d-flex justify-content-start gap-3">
                    <button
                        style="color:white;background-color: #141E46;border-radius: 10px;"
                        (click)="create(routeId[0]?.routeModel?.routeId)" mat-raised-button>
                        Add
                    </button>
                    <button
                        style="color:white;background-color: #141E46;border-radius: 10px;"
                        mat-raised-button>
                        Export
                    </button>
                   
                </div> -->
                <!-- <div  class="col-md-2 d-flex justify-content-end mb-1" >
                    <button style="color:white;background-color: #141E46;border-radius: 10px;"   (click)="close()">Back</button>
                  </div> -->
            </div>
        </mat-card-header>
        <div class="row mt-4">
            <div class="col-12 mb-3 mb-lg-5">
                <div class="card table-nowrap table-card">
                    <div class="table-responsive text-nowrap text-center">
                        <table class="table table-hover" id="customers">
                            <tr>
                                <th>{{"S.No"|translate}}</th>
                                <th>{{"Pincode Name"|translate}}</th>
                                <th>{{"Area Name"|translate}}</th>
                                <th>{{"Street Name"|translate}}</th>
                             
                                <th>Customer Details</th>
     
                             
                            </tr>
                            <tbody
                                *ngFor="let item of flattenedRouteData | search: searchText | paginate: { itemsPerPage: 5, currentPage: currentPage }; let i=index">
                                <td>{{i+1}}</td>
     
                                <td>{{item.pincodeName}}</td>
                                <td>{{item.areaName}}</td>
                       
                                <td>{{item.streetName}}</td>
     
                                      <td><span (click)="customerViews(item.routePincodeId)">
                                    <i class="fas fa-eye" style="font-size: 16px;color: rgb(39, 39, 95);"></i>
                                </span></td>
                       
     
                            </tbody>
                        </table>
                    </div>
                    <div class="text-end mt-3">
                        <pagination-controls (pageChange)="currentPage = $event"></pagination-controls>
                    </div>
                </div>
            </div>
        </div>
    </div>
    