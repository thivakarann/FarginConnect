
<div class="card-header">
    <h3 class="mb-0" style="font-weight: 700;text-align:center;font-size: 21px; ">Add Role</h3>
</div>
<body class="page">
    <main class="main page__main">

        <form class="form main__form" autocomplete="off" class="form" [formGroup]="roleformGroup">

            <div class="form__linput">
                <label class="form__label">Role Name</label>
                <input class="form-control" type="text" formControlName="roleName" required />
                <div style="color: red; font-size: 12px;margin-top: 2px;"
                    *ngIf="roleName?.invalid && roleName?.touched && roleName?.errors?.['required']">
                    Field is required
                </div>
            </div>


            <div class="form__linput">
                <label class="form__label" for="fname">Select Permission</label>
                <mat-select #select style="font-size: 14px;margin-top: 4px;" class="form-select" multiple formControlName="merchantPermission"
                    (ngModelChange)="sendPermissionId($event)">

                    <div class="select-all">
                        <mat-checkbox [(ngModel)]="allSelected" [ngModelOptions]="{standalone: true}"
                            (change)="toggleAllSelection()">Select All</mat-checkbox>
                    </div>

                    <mat-option *ngFor="let item of getpermissionvalue"
                        [value]="item.permissionId">{{item.permissions}}</mat-option>

                </mat-select>
                <div style="color: red; font-size: 12px;margin-top: 2px;"
                    *ngIf="merchantPermission?.invalid && merchantPermission?.touched && merchantPermission?.errors?.['required']">
                    Field is required
                </div>
            </div>


            <div class="form__linput">
                <label class="form__label" for="fname">Select Sub Permission</label>
                <mat-select #selects style="font-size: 14px;" class="form-select" multiple
                    formControlName="merchantSubPermission">
                    <div class="select-all">
                        <mat-checkbox [(ngModel)]="allSelected1" [ngModelOptions]="{standalone: true}"
                            (change)="toggleAllSelection1()">Select All</mat-checkbox>
                    </div>

                    <mat-option [value]="subPermission.subPermissionId"
                        *ngFor="let subPermission of subpermissionValue">
                        <!-- {{subPermissions?.permission?.permission}} -->
                        {{subPermission?.subPermissions}}</mat-option>

                </mat-select>
                <div style="color: red; font-size: 12px;margin-top: 2px;"
                    *ngIf="merchantSubPermission?.invalid && merchantSubPermission?.touched && merchantSubPermission?.errors?.['required']">
                    Field is required
                </div>
            </div>

            <div class="mt-3">
                <button type="submit" class="btn mx-1 " style="background-color:#7db855be" (click)="submit()"
                    [disabled]="this.roleformGroup.invalid">Submit</button>
                <button type="submit" class="btn" style="background-color:#141E46;color:white" (click)="close()">Cancel</button>
            </div>
        </form>
    </main>
</body>