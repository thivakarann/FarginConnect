<div class="card-header">
    <h3 class="mb-0" style="font-weight: 700;text-align:center;font-size: 21px;">Edit Role</h3>
</div>

<body class="page">
    <main class="main page__main">
        <form class="form main__form" autocomplete="off" class="form" role="form" [formGroup]="editRole">
            <div class="form__linput">
                <label class="form__label">Role Name</label>
                <input class="form-control" type="text" formControlName="roleName" required ngModel="{{getRoleName}}"
                    style="font-size: 14px;width: 550px;" />
                <div style="color: red; font-size: 12px;margin-top: 2px;"
                    *ngIf="roleName?.invalid && roleName?.touched && roleName?.errors?.['required']">
                    Field is required
                </div>
                <div style="color: red; font-size: 12px;margin-top: 2px;"
                    *ngIf="roleName?.invalid && roleName?.touched && roleName?.errors?.['pattern']">
                    Invalid format
                </div>
                <div style="color: red; font-size: 12px;margin-top: 2px;"
                    *ngIf="roleName?.invalid && roleName?.touched && roleName?.errors?.['maxlength']">
                    Maximum length should be 50
                </div>
            </div>
            <div class="form__linput">
                <label class="form__label" for="fname">Select Business Category</label>
                <mat-select #selectssss class="form-select" multiple formControlName="businessCategoryId"
                    (ngModelChange)="Permission($event)" [ngModel]="getbusValue">
                    <div class="select-all">
                        <mat-checkbox [(ngModel)]="allSelected3" [ngModelOptions]="{standalone: true}"
                            (change)="toggleAllSelection3()">Select All</mat-checkbox>
                    </div>
                    <mat-option *ngFor="let item of details"
                        [value]="item.businessCategoryId">{{item.businessCategoryName}}</mat-option>
                </mat-select>
                <div style="color: red; font-size: 12px;margin-top: 2px;"
                    *ngIf="permission?.invalid && permission?.touched && permission?.errors?.['required']">
                    Field is required
                </div>
            </div>


            <div class="form__linput">
                <label class="form__label" for="fname">Select Permission</label>
                <mat-select #select class="form-select" multiple formControlName="permission"
                    (ngModelChange)="sendPermissionId($event)" [ngModel]="getPerValue">
                    <div class="select-all">
                        <mat-checkbox [(ngModel)]="allSelected" [ngModelOptions]="{standalone: true}"
                            (change)="toggleAllSelection()">Select All</mat-checkbox>
                    </div>
                    <mat-option *ngFor="let item of permissionValue"
                        [value]="item.permissionId">{{item.permissionName}}</mat-option>
                </mat-select>
                <div style="color: red; font-size: 12px;margin-top: 2px;"
                    *ngIf="permission?.invalid && permission?.touched && permission?.errors?.['required']">
                    Field is required
                </div>
            </div>

            <div class="form__linput">
                <label class="form__label" for="fname">Select Sub Permission</label>
                <mat-select #selects style="font-size: 14px;width: 550px;" class="form-select" multiple
                    formControlName="subPermission" [ngModel]="getSubValue">

                    <mat-checkbox [(ngModel)]="allSelected1" [ngModelOptions]="{standalone: true}"
                        (change)="toggleAllSelection1()">Select All</mat-checkbox>

                    <mat-option *ngFor="let datas of values2" [value]="datas.value">
                        {{datas.viewValue}}
                    </mat-option>
                </mat-select>
                <div style="color: red; font-size: 12px;margin-top: 2px;"
                    *ngIf="subPermission?.invalid && subPermission?.touched && subPermission?.errors?.['required']">
                    Field is required
                </div>
            </div>
            <div class="mt-2">
                <button [disabled]="editRole.invalid" type="submit" class="btn " style="background-color:#7db855be"
                    (click)="submit()">Submit</button>
                <button type="submit" class="btn mx-2" style="background-color:#141E46;color:white"
                    matDialogClose>Cancel</button>

            </div>


        </form>
    </main>
</body>